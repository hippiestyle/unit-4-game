<!DOCTYPE html>
<head>
    <title>Crystal Collector</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css">

    
</head>

<body>
    <header>
            <div class="jumbotron jumbotron-fluid crystalHeader">
                    <div class="container">
                      <h1 class="display-4 titleHeader">Crystal Collector </h1>
                      <p class="lead">A classic game of addition, crystals, memory and fun. Try your luck! </p>
                    </div>
                  </div>

    </header>
    <div class="container">  
        
        <div id="instructionsDiv">
            <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.</p>
            <p>You win the game by matching your total score to the random number. You lost the game if your total score goes above the random number.</p>
            <p>The value of each crystal is hidden from you until you click on it. Then you will have to use your memory to win the game</p>
        </div>

    </div>
    
</div> 
<div class="container scoreContainer">
    <div class="row">
        <div class="col-sm-3 card bg-warning mb-3 text-white scoreCard " >
            <div class="card-header">Collect Crystals </div>
            <div class="card-body">
                <div id="guessNumber"><span id="guess-number">0</span></div>
                </div>
        </div>
              

        <div class="col-sm-3 card bg-info mb-3 text-white scoreCard">
                <div class="card-header">Scoreboard</div>
                <div class="card-body">
                        <div id="userWins">Wins: <span id="user-wins">0</span></div>
                        <div id="userLoss">Losses: <span id="user-losses">0</span></div>
                </div>
        </div>


        <div class="col-sm-3 card bg-danger mb-3 text-white scoreCard" id="totalScoreCard">
                <div class="card-header" id="scoreInfo">Your Total Score Is: </div>
                <div class="card-body">
                        <div id="gemCount"><span="gem-count">0</span></div>
                </div>
        </div>

        
</div>

        <div class="gems container gemContainer">
   
        <div class="row">
            <div class="col-sm-2 card shadow-lg gemCard button" id="gem1" style="width: 10rem; ">
                    <img class="card-img-top" src="./assets/images/jade.jpeg" alt="Card image cap">
                    <div class="card-body">
                      <h5 class="card-title">Jade</h5>
                      <p class="card-text">An ornamental mineral known for its green varieties.</p>
                    </div>
                </div>

            <div class="col-sm-2 card shadow-lg gemCard button" id="gem2" style="width: 10rem; ">
                <img class="card-img-top" src="./assets/images/purple.jpeg" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title">Amethyst</h5>
                    <p class="card-text">A well known purple mineral and gemstone.</p>
                </div>
            </div>
      
            <div class="col-sm-2 card shadow-lg gemCard button" id="gem3" style="width: 10rem; ">
                    <img class="card-img-top" src="./assets/images/ruby.jpeg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Ruby</h5>
                        <p class="card-text">a pink to blood-red colored gemstone.</p>
                    </div>
            </div>

            <div class="col-sm-2 card shadow-lg gemCard button" id="gem4" style="width: 10rem; ">
                    <img class="card-img-top" src="./assets/images/topaz.jpeg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Topaz</h5>
                        <p class="card-text">a silicate mineral of aluminium and fluorine.</p>
                    </div>
            </div>

        </div>
        <div class="row">
            <div class="col-sm-10 card mb-3 text-white scoreCard win-or-lose" id="win-lose">
                <div class="card-body">
                        <div id="did-you-win"></div>
         </div>
         </div>



        </div>

    </div>

</body>
<script> 

    $( document ).ready(function() {

    var gemSum = 0; 
    var wins = 0;
    var losses = 0; 

    var randomScore = Math.floor(Math.random()*100 + 1);
        
    var randomGem1 = Math.floor(Math.random()*10+1);
    var randomGem2 = Math.floor(Math.random()*10+1);
    var randomGem3 = Math.floor(Math.random()*10+1);
    var randomGem4 = Math.floor(Math.random()*10+1);
    
    console.log("randomGem1: " + randomGem1);
    console.log("randomGem2: " + randomGem2);
    console.log("randomGem3: " + randomGem3);
    console.log("randomGem4: " + randomGem4);
    
    $("#guess-number").html(randomScore);
    
    function resetFunction() {
        randomGem1 = Math.floor(Math.random()*12+1);
        randomGem2 = Math.floor(Math.random()*12+1);
        randomGem3 = Math.floor(Math.random()*12+1);
        randomGem4 = Math.floor(Math.random()*12+1);
        console.log("Random Gem1: " + randomGem1 + " Random Gem2: " + randomGem2 + " Random Gem3" + randomGem3 + " Random Gem4: " + randomGem4);
        randomScore = Math.floor(Math.random()*100);
        $("#guess-number").html(randomScore);
        gemSum = 0; 
        console.log(gemSum);
        $("#win-lose").remove("bg-success");
        $("#win-lose").remove("bg-danger");

        
    }

    // create a function that randomizes gem values

        $("#gem1").on("click", function () {
            gemSum += randomGem1; 
            $("#gemCount").html(gemSum);
            console.log(gemSum);
            $("#win-lose").css("visibility", "hidden");
            
        });

        $("#gem2").on("click", function () {
            gemSum += randomGem2; 
            $("#gemCount").html(gemSum);
            console.log(gemSum);
            $("#win-lose").css("visibility", "hidden");

            
        });

        $("#gem3").on("click", function () {
            gemSum += randomGem3; 
            $("#gemCount").html(gemSum);
            console.log(gemSum);
            $("#win-lose").css("visibility", "hidden");


        });


        $("#gem4").on("click", function () {
            gemSum += randomGem4; 
            $("#gemCount").html(gemSum);
            console.log(gemSum);
            $("#win-lose").css("visibility", "hidden");


        });

        $(".button").on("click", function() {
            if (gemSum > randomScore) {
                losses++;
                $("#user-losses").html(losses);
                console.log("YOU LOSE, You went " + (gemSum - randomScore) + " over! ");
                $("#win-lose").addClass("bg-danger")
                $("#win-lose").css("visibility", "visible");
                $("#did-you-win").html("You Lost!");
                resetFunction(); 


            } else if (gemSum === randomScore) {
                wins++; 
                $("#win-lose").addClass("bg-success");
                $("#user-wins").html(wins);
                $("#win-lose").css("visibility", "visible");
                $("#did-you-win").html("You Won!");

                
                resetFunction(); 
                
            }

        
        });

    });
    </script>

</html>